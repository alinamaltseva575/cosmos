{{define "admin_user_detail"}}
<div class="admin-header">
    <h1>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {{.User.Username}}</h1>
    <p>–ò–∑–º–µ–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
</div>

<div class="admin-actions-bar">
    <a href="/admin/users" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a>
</div>

{{if .Error}}
<div class="error-message">
    <strong>–û—à–∏–±–∫–∞:</strong> {{.Error}}
</div>
{{end}}

{{if .Success}}
<div class="success-message">
    {{.Success}}
</div>
{{end}}

<form method="POST" action="/admin/users/{{.User.ID}}/edit" class="admin-form">

    <div class="form-row">
        <div class="form-group">
            <label for="username">–õ–æ–≥–∏–Ω *</label>
            <input type="text" id="username" name="username" required
                   value="{{.User.Username}}" placeholder="username">
        </div>

        <div class="form-group">
            <label for="email">Email *</label>
            <input type="email" id="email" name="email" required
                   value="{{.User.Email}}" placeholder="user@example.com">
        </div>
    </div>

    <div class="form-group">
        <label for="role">–†–æ–ª—å *</label>
        <select id="role" name="role" required>
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å</option>
            <option value="admin" {{if eq .User.Role "admin"}}selected{{end}}>üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
            <option value="user" {{if eq .User.Role "user"}}selected{{end}}>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
        </select>
    </div>

    <div class="form-group">
        <label for="password">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å)</label>
        <input type="password" id="password" name="password"
               placeholder="–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
        <small class="form-text">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</small>
    </div>

    <div class="form-group">
        <label for="password_confirm">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</label>
        <input type="password" id="password_confirm" name="password_confirm"
               placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">
            üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
        </button>
        <a href="/admin/users" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
        {{if ne .User.ID 1}} {{/* –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞ */}}
        <a href="/admin/users/{{.User.ID}}/delete"
           class="btn btn-danger"
           onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{.User.Username}}?')">
            üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        </a>
        {{end}}
    </div>
</form>

<div class="admin-info">
    <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h3>
    <ul>
        <li>ID: {{.User.ID}}</li>
        <li>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω: {{.User.CreatedAt.Format "02.01.2006 15:04"}}</li>
        <li>–†–æ–ª—å: <span class="badge {{if eq .User.Role "admin"}}admin-badge{{else}}user-badge{{end}}">
            {{if eq .User.Role "admin"}}üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä{{else}}üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å{{end}}
        </span></li>
        {{if .PlanetCount}}
        <li>–°–æ–∑–¥–∞–ª –ø–ª–∞–Ω–µ—Ç: {{.PlanetCount}}</li>
        {{end}}
    </ul>
</div>
{{end}}
