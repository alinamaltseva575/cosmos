{{define "admin_planet_form"}}
<div class="admin-header">
    <h1>{{if .Planet.ID}}‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã{{else}}‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã{{end}}</h1>
    <p>{{if .Planet.ID}}–ò–∑–º–µ–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–ª–∞–Ω–µ—Ç—ã{{else}}–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –ø–ª–∞–Ω–µ—Ç—ã{{end}}</p>
</div>

<div class="admin-actions-bar">
    <a href="/admin/planets" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
</div>

{{if .Error}}
<div class="error-message">
    <strong>–û—à–∏–±–∫–∞:</strong> {{.Error}}
</div>
{{end}}

<form method="POST"
      action="{{if .Planet.ID}}/admin/planets/edit/{{.Planet.ID}}{{else}}/admin/planets/new{{end}}"
      class="admin-form">

    <div class="form-group">
        <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã *</label>
        <input type="text" id="name" name="name" required
               value="{{.Planet.Name}}" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–µ–º–ª—è">
    </div>

    <div class="form-row">
        <div class="form-group">
            <label for="type">–¢–∏–ø –ø–ª–∞–Ω–µ—Ç—ã *</label>
            <select id="type" name="type" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                <option value="–∑–µ–º–ª–µ–ø–æ–¥–æ–±–Ω–∞—è" {{if eq .Planet.Type "–∑–µ–º–ª–µ–ø–æ–¥–æ–±–Ω–∞—è"}}selected{{end}}>–ó–µ–º–ª–µ–ø–æ–¥–æ–±–Ω–∞—è</option>
                <option value="–≥–∞–∑–æ–≤—ã–π –≥–∏–≥–∞–Ω—Ç" {{if eq .Planet.Type "–≥–∞–∑–æ–≤—ã–π –≥–∏–≥–∞–Ω—Ç"}}selected{{end}}>–ì–∞–∑–æ–≤—ã–π –≥–∏–≥–∞–Ω—Ç</option>
                <option value="–ª–µ–¥—è–Ω–æ–π –≥–∏–≥–∞–Ω—Ç" {{if eq .Planet.Type "–ª–µ–¥—è–Ω–æ–π –≥–∏–≥–∞–Ω—Ç"}}selected{{end}}>–õ–µ–¥—è–Ω–æ–π –≥–∏–≥–∞–Ω—Ç</option>
                <option value="–∫–∞—Ä–ª–∏–∫–æ–≤–∞—è" {{if eq .Planet.Type "–∫–∞—Ä–ª–∏–∫–æ–≤–∞—è"}}selected{{end}}>–ö–∞—Ä–ª–∏–∫–æ–≤–∞—è</option>
                <option value="—ç–∫–∑–æ–ø–ª–∞–Ω–µ—Ç–∞" {{if eq .Planet.Type "—ç–∫–∑–æ–ø–ª–∞–Ω–µ—Ç–∞"}}selected{{end}}>–≠–∫–∑–æ–ø–ª–∞–Ω–µ—Ç–∞</option>
                <option value="—Å—É–ø–µ—Ä–∑–µ–º–ª—è" {{if eq .Planet.Type "—Å—É–ø–µ—Ä–∑–µ–º–ª—è"}}selected{{end}}>–°—É–ø–µ—Ä–∑–µ–º–ª—è</option>
                <option value="–æ–∫–µ–∞–Ω–∏—á–µ—Å–∫–∞—è" {{if eq .Planet.Type "–æ–∫–µ–∞–Ω–∏—á–µ—Å–∫–∞—è"}}selected{{end}}>–û–∫–µ–∞–Ω–∏—á–µ—Å–∫–∞—è</option>
            </select>
        </div>

        <div class="form-group">
            <label for="galaxy_id">–ì–∞–ª–∞–∫—Ç–∏–∫–∞</label>
            <select id="galaxy_id" name="galaxy_id">
                <option value="">–ù–µ —É–∫–∞–∑–∞–Ω–∞</option>
                {{range .Galaxies}}
                <!-- –ò–°–ü–†–ê–í–õ–Ø–ï–ú –ó–î–ï–°–¨ -->
                <option value="{{.ID}}"
                    {{if and $.Planet.GalaxyID (eq .ID (derefInt $.Planet.GalaxyID))}}selected{{end}}>
                    {{.Name}}
                </option>
                {{end}}
            </select>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group">
            <label for="diameter_km">–î–∏–∞–º–µ—Ç—Ä (–∫–º) *</label>
            <input type="number" id="diameter_km" name="diameter_km" step="0.01" required
                   value="{{.Planet.DiameterKm}}" placeholder="12742">
        </div>

        <div class="form-group">
            <label for="mass_kg">–ú–∞—Å—Å–∞ (–∫–≥)</label>
            <input type="number" id="mass_kg" name="mass_kg" step="0.01"
                   value="{{.Planet.MassKg}}" placeholder="5.972e24">
            <small class="form-text">–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—É—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é: 5.972e24</small>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group">
            <label for="orbital_period_days">–û—Ä–±–∏—Ç–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ (–¥–Ω–µ–π)</label>
            <input type="number" id="orbital_period_days" name="orbital_period_days" step="0.01"
                   value="{{.Planet.OrbitalPeriodDays}}" placeholder="365.25">
        </div>

        <div class="form-group">
            <label for="discovered_year">–ì–æ–¥ –æ—Ç–∫—Ä—ã—Ç–∏—è</label>
            <input type="number" id="discovered_year" name="discovered_year"
                   value="{{if .Planet.DiscoveredYear}}{{derefInt .Planet.DiscoveredYear}}{{end}}" placeholder="2023">
        </div>
    </div>

    <div class="form-checkboxes">
        <label class="checkbox-label">
            <input type="checkbox" name="has_life" value="true"
                   {{if .Planet.HasLife}}checked{{end}}>
            <span>üå± –ù–∞ –ø–ª–∞–Ω–µ—Ç–µ –µ—Å—Ç—å –∂–∏–∑–Ω—å</span>
        </label>

        <label class="checkbox-label">
            <input type="checkbox" name="is_habitable" value="true"
                   {{if .Planet.IsHabitable}}checked{{end}}>
            <span>üè† –ü–ª–∞–Ω–µ—Ç–∞ –æ–±–∏—Ç–∞–µ–º–∞ –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞</span>
        </label>
    </div>

    <div class="form-group">
        <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
        <textarea id="description" name="description" rows="6" required
                  placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã...">{{.Planet.Description}}</textarea>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">
            {{if .Planet.ID}}üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è{{else}}‚ûï –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω–µ—Ç—É{{end}}
        </button>
        <a href="/admin/planets" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>

        {{if .Planet.ID}}
        <a href="/planets/{{.Planet.ID}}" class="btn btn-view" target="_blank">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä</a>
        {{end}}
    </div>
</form>

{{if .Planet.ID}}
<div class="admin-info">
    <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞–Ω–µ—Ç–µ</h3>
    <ul>
        <li>ID: {{.Planet.ID}}</li>
        <li>–°–æ–∑–¥–∞–Ω–∞: {{.Planet.CreatedAt.Format "02.01.2006 15:04"}}</li>
        {{if .Planet.GalaxyID}}
        <li>ID –≥–∞–ª–∞–∫—Ç–∏–∫–∏: {{derefInt .Planet.GalaxyID}}</li>
        {{end}}
    </ul>
</div>
{{end}}
{{end}}
